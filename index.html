<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payjoin Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100 min-h-screen font-sans">
    <header class="bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white">
        <div class="container mx-auto">
            <h1 class="text-3xl font-bold text-center">PayJoin Interactive Demo</h1>
            <p class="text-center mt-2">Experience how PayJoin enhances Bitcoin transaction privacy</p>
        </div>
    </header>

    <main class="container mx-auto p-4 mt-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Sender Side -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden transition-all duration-300 ease-in-out">
                <div class="bg-blue-500 p-4">
                    <h2 class="text-xl font-bold text-white text-center">Sender</h2>
                </div>
                <div class="p-6 h-96 overflow-y-auto flex flex-col justify-between">
                    <div class="space-y-4">
                        <div class="p-4 bg-blue-50 rounded">
                            <p class="text-sm text-gray-600">Wallet Balance: <span class="font-mono font-bold">0.05 BTC</span></p>
                        </div>
                        <div id="sender-status" class="p-4 bg-gray-50 rounded">
                            <p class="text-gray-600">Waiting for receiver's payment request...</p>
                        </div>
                    </div>
                    <div class="space-y-3 mt-4">
                        <button id="scan-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-all">
                            Scan BIP21 Request
                        </button>
                        <button id="create-psbt-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-all" disabled>
                            Create Original PSBT
                        </button>
                        <button id="send-psbt-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-all" disabled>
                            Send PSBT to Payjoin Directory
                        </button>
                        <button id="sign-payjoin-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-all" disabled>
                            Sign Payjoin PSBT
                        </button>
                        <button id="broadcast-btn" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-all" disabled>
                            Broadcast Transaction
                        </button>
                    </div>
                </div>
            </div>

            <!-- Receiver Side -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden transition-all duration-300 ease-in-out">
                <div class="bg-purple-500 p-4">
                    <h2 class="text-xl font-bold text-white text-center">Receiver</h2>
                </div>
                <div class="p-6 h-96 overflow-y-auto flex flex-col justify-between">
                    <div class="space-y-4">
                        <div class="p-4 bg-purple-50 rounded">
                            <p class="text-sm text-gray-600">Wallet Balance: <span class="font-mono font-bold">0.02 BTC</span></p>
                        </div>
                        <div id="receiver-status" class="p-4 bg-gray-50 rounded">
                            <p class="text-gray-600">Ready to generate payment request...</p>
                        </div>
                    </div>
                    <div class="space-y-3 mt-4">
                        <button id="generate-bip21-btn" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded transition-all">
                            Generate BIP21 Request
                        </button>
                        <button id="check-psbt-btn" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-all" disabled>
                            Check Original PSBT
                        </button>
                        <button id="create-payjoin-btn" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-all" disabled>
                            Create Payjoin PSBT
                        </button>
                        <button id="respond-btn" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-all" disabled>
                            Respond with Payjoin PSBT
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payjoin Directory / Data Visualization -->
        <div class="mt-8 bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4">Payjoin Directory & Transaction Visualization</h2>
            <div id="payjoin-directory" class="p-4 bg-gray-50 rounded-lg min-h-48 font-mono text-sm overflow-x-auto">
                <p class="text-gray-500 text-center">No data in the payjoin directory yet...</p>
            </div>
            <div class="mt-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-2">Transaction Status</h3>
                <div id="transaction-visualization" class="bg-gray-50 p-4 rounded-lg h-48 flex items-center justify-center">
                    <div class="text-center text-gray-500">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                        </svg>
                        <p>Transaction visualization will appear here</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Information Section -->
        <div class="mt-8 bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4">About PayJoin</h2>
            <p class="text-gray-700">
                PayJoin is a Bitcoin privacy technique that makes it harder for blockchain surveillance to track the flow of funds. It works by having the receiver contribute inputs to the transaction, breaking common blockchain analysis heuristics.
            </p>
            <div class="mt-4">
                <a href="https://payjoin.org/" target="_blank" class="text-blue-500 hover:text-blue-700 underline mr-4">Learn more at payjoin.org</a>
                <a href="https://payjoindevkit.org/" target="_blank" class="text-blue-500 hover:text-blue-700 underline">Payjoin Development Kit</a>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white mt-12 p-6">
        <div class="container mx-auto text-center">
            <p>PayJoin Interactive Demo | Created for educational purposes</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
